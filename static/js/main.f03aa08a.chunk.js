(this["webpackJsonpmovies-app"]=this["webpackJsonpmovies-app"]||[]).push([[0],{37:function(e,t,r){},44:function(e,t,r){"use strict";r.r(t);var n=r(0),s=r(20),c=r.n(s),i=(r(37),r(46)),a=r(1),o=function(){return Object(a.jsx)("div",{className:"row",children:Object(a.jsxs)("div",{className:"jumbotron text-center",style:{borderRadius:0},children:[Object(a.jsx)("h1",{className:"display-4",children:"Movies App"}),Object(a.jsx)("p",{className:"lead",children:"Type the name of your favourite movie below, then click the search button"})]})})},u=r(21),j=r(3),l=r(13),h=r(14),d=r(15),b=r(16),v=r(47),p=r(45),O=r(31),m=r(48),f=r(10),x="MOVIES",y="ADD_FAV",g="REMOVE_FAV",F=function(e){var t=e.url,r=e.children;return Object(a.jsx)(u.b,{to:t,className:"btn btn-info",children:r})},N=function(e){Object(d.a)(r,e);var t=Object(b.a)(r);function r(e){var n;return Object(l.a)(this,r),(n=t.call(this,e)).handleSearch=function(e){e.preventDefault();var t="https://api.themoviedb.org/3/search/movie?api_key=".concat("9e3969625ef8f48544c758b0ad30cd72","&page=1&query=").concat(n.state.query);fetch(t,{method:"GET"}).then((function(e){return e.json()})).then((function(e){n.props.movies(e.results)}))},n.state={query:""},n}return Object(h.a)(r,[{key:"render",value:function(){var e=this;return Object(a.jsx)(v.a,{onSubmit:this.handleSearch,children:Object(a.jsxs)(v.a.Group,{as:p.a,children:[Object(a.jsx)(O.a,{xs:12,sm:2,children:Object(a.jsx)(F,{url:"/favourites",type:"info",children:"View Favourites"})}),Object(a.jsx)(O.a,{xs:12,sm:8,children:Object(a.jsx)(v.a.Control,{type:"text",placeholder:"Name of a movie...",onChange:function(t){return e.setState({query:t.target.value})}})}),Object(a.jsx)(O.a,{xs:12,sm:2,children:Object(a.jsx)(m.a,{bsstyle:"primary",type:"submit",disabled:""===this.state.query,children:"Search"})})]})})}}]),r}(n.Component),_=Object(f.b)(null,{movies:function(e){return{type:x,items:e}}})(N),w=function(e){Object(d.a)(r,e);var t=Object(b.a)(r);function r(e){var n;return Object(l.a)(this,r),(n=t.call(this,e)).handleAddFavourite=function(){n.setState({favourited:!n.state.favourited}),n.props.addToFavourites(n.props.movie)},n.handleRemoveFavourite=function(){n.setState({favourited:!n.state.favourited}),n.props.removeFromFavourites(n.props.movie)},n.displayFavouriteIcon=function(){return n.state.favourited?Object(a.jsx)("span",{className:"glyphicon glyphicon-heart",onClick:n.handleRemoveFavourite,style:{color:"gold",cursor:"pointer"},title:"Remove from favourites"}):Object(a.jsx)("span",{className:"glyphicon glyphicon-heart-empty",onClick:n.handleAddFavourite,style:{color:"gold",cursor:"pointer"},title:"Add to favourites"})},n.formatDate=function(e){return e.split("-").reverse().join("/")},n.state={favourited:!!n.props.isFavourite},n}return Object(h.a)(r,[{key:"render",value:function(){var e=this.props.movie;return Object(a.jsx)("div",{className:"col-xs-12 col-sm-6 col-md-4",children:Object(a.jsxs)("div",{className:"thumbnail",children:[Object(a.jsx)("a",{href:"https://www.themoviedb.org/movie/".concat(e.id),target:"_blank",rel:"noopener noreferrer",children:Object(a.jsx)("img",{src:"https://image.tmdb.org/t/p/w342".concat(e.poster_path),alt:"None"})}),Object(a.jsxs)("div",{className:"caption",children:[Object(a.jsxs)("h3",{children:[e.title," ",this.displayFavouriteIcon()]}),Object(a.jsx)("p",{children:Object(a.jsx)("strong",{children:this.formatDate(e.release_date)})}),Object(a.jsx)("p",{id:"overview",children:e.overview}),Object(a.jsxs)("p",{children:["User Score:"," ",Object(a.jsxs)("span",{className:"badge badge-default",children:[Object(a.jsx)("span",{className:"glyphicon glyphicon-star","aria-hidden":"true"})," ",e.vote_average]})]})]})]})})}}]),r}(n.Component),S=Object(f.b)(null,{addToFavourites:function(e){return{type:y,movie:e}},removeFromFavourites:function(e){return{type:g,movie:e}}})(w),E=function(e){Object(d.a)(r,e);var t=Object(b.a)(r);function r(){return Object(l.a)(this,r),t.apply(this,arguments)}return Object(h.a)(r,[{key:"render",value:function(){var e=this;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(_,{}),Object(a.jsx)("hr",{}),this.props.movies.length>0&&this.props.movies.map((function(t){return t&&Object(a.jsx)(S,{movie:t,isFavourite:!!(e.props.favourites.length>0&&e.props.favourites.find((function(e){return e.id===t.id})))},t.id)}))]})}}]),r}(n.Component),k=Object(f.b)((function(e){return{movies:e.movies,favourites:e.favourites}}),null)(E),D=function(){return Object(a.jsxs)(p.a,{children:[Object(a.jsx)(O.a,{sm:2,children:Object(a.jsx)(F,{url:"/",type:"info",children:"Back to Search"})}),Object(a.jsx)(O.a,{sm:10,children:Object(a.jsxs)("h4",{children:["My Favourite Movies"," ",Object(a.jsx)("span",{className:"glyphicon glyphicon-heart",style:{color:"gold",top:"3px"}})]})})]})},C=function(e){Object(d.a)(r,e);var t=Object(b.a)(r);function r(){return Object(l.a)(this,r),t.apply(this,arguments)}return Object(h.a)(r,[{key:"render",value:function(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(D,{}),Object(a.jsx)("hr",{}),this.props.favourites.map((function(e){return Object(a.jsx)(S,{movie:e,isFavourite:!0},e.id)}))]})}}]),r}(n.Component),T=Object(f.b)((function(e){return{favourites:e.favourites}}),null)(C),A=function(){return Object(a.jsx)(u.a,{children:Object(a.jsxs)(j.c,{children:[Object(a.jsx)(j.a,{exact:!0,path:"/",element:Object(a.jsx)(k,{})}),Object(a.jsx)(j.a,{exact:!0,path:"/movies-app",element:Object(a.jsx)(k,{})}),Object(a.jsx)(j.a,{exact:!0,path:"/favourites",element:Object(a.jsx)(T,{})})]})})},R=function(){return Object(a.jsxs)(i.a,{fluid:!0,children:[Object(a.jsx)(o,{}),Object(a.jsx)(i.a,{children:Object(a.jsx)(A,{})})]})},V=r(22),I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return t.type===x?t.items:e},q=r(32),M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return[].concat(Object(q.a)(e),[t.movie]);case g:return e.filter((function(e){return e.id!==t.movie.id}));default:return e}},X=Object(V.a)({movies:I,favourites:M}),U=Object(V.b)(X,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());c.a.render(Object(a.jsx)(f.a,{store:U,children:Object(a.jsx)(R,{})}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.f03aa08a.chunk.js.map